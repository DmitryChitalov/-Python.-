"""
3. Массив размером 2m + 1, где m – натуральное число, заполнен случайным образом.
Найдите в массиве медиану. Медианой называется элемент ряда, делящий его на
две равные части: в одной находятся элементы, которые не меньше медианы,
в другой – не больше медианы. Задачу можно решить без сортировки исходного
массива. Но если это слишком сложно, то используйте метод сортировки,
который не рассматривался на уроках
"""
from random import random
from random import randint
from timeit import timeit


def create_list_int(list_len, l_border, r_border):
    return [randint(l_border, r_border - 1) for _ in range(list_len * 2 + 1)]


# Использую set, что дает прирост производительности
def get_median(base_list):
    for val in base_list:
        cnt1 = cnt2 = 0
        for val2 in base_list:
            if val == val2:
                continue
            if val2 < val:
                cnt1 += 1
            else:
                cnt2 += 1
        if cnt1 == cnt2:
            return val
    return None


# Использую set, что дает прирост производительности
def get_median_opt(base_list):
    for val in set(base_list):
        cnt1 = cnt2 =0
        for val2 in base_list:
            if val == val2:
                continue
            if val2 < val:
                cnt1 += 1
            else:
                cnt2 += 1
        if cnt1 == cnt2:
            return val
    return None


a = create_list_int(500,0,100000)
print(a)
print(sorted(a))
print(get_median(a))
print(get_median_opt(a))

print('Обычный: ', timeit('get_median(a)', 'from __main__ import get_median, a', number=100))
print('Оптимиз: ', timeit('get_median_opt(a)', 'from __main__ import get_median_opt, a', number=100))

"""
[300704, 236676, 598406, 726711, 811820, 588624, 191314, 36890, 340223, 141687, 611683, 526902, 731856, 120711, 714204, 599471, 405632, 209703, 18504, 956685, 639696, 895911, 591170, 842896, 125816, 921077, 268124, 480781, 852849, 689812, 854116, 495491, 572422, 176209, 178866, 340982, 190341, 64776, 728901, 938792, 452625, 508539, 324388, 681310, 463656, 1531, 454239, 525980, 504647, 171783, 892620, 806558, 97928, 728763, 349147, 19542, 605800, 646605, 257989, 668141, 203309, 994247, 28594, 14425, 926700, 786386, 418488, 922837, 463151, 970563, 797937, 699697, 629201, 891392, 904940, 439785, 951605, 947287, 731138, 870148, 216003, 615894, 916343, 131391, 674925, 705380, 449320, 717725, 903831, 92596, 358382, 828536, 745024, 625714, 419421, 490391, 877, 904247, 997601, 492171, 750278, 458177, 687130, 842035, 986850, 942527, 585312, 920140, 344743, 102145, 767222, 524482, 970643, 351191, 668726, 853917, 823724, 279553, 341556, 631931, 948590, 591683, 185770, 460146, 995775, 292401, 738859, 98247, 66876, 497496, 772160, 168010, 915266, 164621, 69225, 856415, 755958, 630030, 289661, 292086, 831104, 254321, 284361, 439959, 630910, 540167, 550075, 715924, 492146, 960361, 329129, 888020, 368740, 397246, 524720, 365684, 809875, 435680, 919284, 26827, 974880, 49656, 70434, 885614, 540433, 215032, 754361, 199196, 85095, 634693, 250117, 323742, 558069, 912224, 887459, 72605, 308993, 321014, 176512, 507889, 581048, 146657, 641767, 735529, 916, 310086, 794807, 973816, 591259, 145238, 778476, 695963, 397033, 810697, 73278, 567660, 705388, 851762, 341909, 955379, 355424, 978457, 753027, 539421, 93408, 972537, 25210, 665947, 980154, 527147, 312630, 481305, 516979, 13030, 98464, 774954, 475267, 374095, 478139, 197107, 787118, 743185, 339593, 731608, 929059, 892396, 525725, 998023, 972527, 689228, 905451, 838838, 418463, 987026, 284877, 300393, 765199, 106280, 247809, 175346, 263465, 186667, 698527, 960488, 135656, 769000, 613247, 710711, 984532, 724396, 122531, 921575, 326507, 231594, 723240, 857067, 779064, 950428, 824663, 64516, 268628, 913782, 76061, 89885, 136997, 708647, 736863, 607051, 45884, 775091, 403524, 15334, 773540, 589884, 784601, 107677, 340161, 321118, 208240, 319853, 189290, 574920, 916325, 267541, 288770, 223645, 165732, 18279, 690354, 946661, 774101, 787965, 538883, 253830, 192137, 108618, 261546, 154925, 675396, 658392, 645085, 121315, 862535, 301906, 193203, 328501, 828405, 853253, 644586, 821560, 543429, 163300, 234979, 796489, 245923, 739028, 74186, 871233, 486192, 72177, 251993, 648856, 244519, 288072, 161500, 362671, 155511, 121971, 162553, 424466, 303880, 186402, 601065, 81929, 719553, 359975, 865205, 290791, 594970, 121803, 216436, 759277, 348763, 502869, 10988, 598565, 237061, 119999, 598371, 153212, 780736, 72970, 242978, 74096, 360427, 697722, 473766, 726021, 98072, 738986, 669885, 146415, 961860, 119194, 299426, 603458, 867651, 497244, 357396, 89395, 51328, 707276, 518158, 532419, 19319, 624987, 689194, 504202, 404627, 717824, 638216, 406881, 905008, 617956, 564283, 409760, 230343, 432835, 32607, 853789, 390622, 289943, 741687, 257015, 865406, 786811, 930859, 701480, 244874, 868853, 952346, 489710, 995809, 230334, 983211, 156962, 406667, 299210, 440860, 440427, 383496, 742408, 944380, 262912, 83824, 317843, 642193, 796152, 815066, 637920, 321267, 829844, 357899, 321999, 525508, 192899, 551576, 563213, 13617, 164976, 672980, 759448, 3966, 733563, 649684, 734320, 799638, 945566, 941909, 327022, 971412, 487381, 798243, 160562, 144696, 267597, 483059, 327974, 954060, 615530, 660383, 322987, 68285, 576703, 656250, 567343, 488141, 87724, 536467, 771693, 508736, 437681, 900721, 318466, 472933, 662141, 123835, 686717, 960217, 201915, 225442, 36182, 323050, 252691, 508356, 489403, 662567, 527530, 58235, 222193, 833247, 159154, 344428, 764538, 875267, 837635, 981598, 471146, 110176, 850526, 427474, 474571, 332629, 779022, 344203, 937406, 399766, 503061, 906465, 619810, 642367, 873207, 960581, 105927, 782935, 634966, 737761, 731439, 738937, 936260, 5149, 333625, 879921, 525849, 665560, 770579, 436575, 502229, 318696, 775650, 770655, 842151, 360793, 983969, 827564, 224270, 500501, 939332, 590270, 64928, 288494, 562635, 610741, 909046, 594733, 532671, 912525, 340093, 716512, 987218, 126525, 484976, 820350, 689746, 644292, 22966, 340473, 525785, 131216, 151668, 143440, 189251, 703120, 417486, 993628, 259374, 343057, 167752, 710752, 710777, 336507, 177893, 488318, 265165, 298407, 102313, 722137, 659804, 582731, 649055, 296357, 207015, 998077, 403101, 466129, 313057, 472912, 154520, 401447, 831684, 603276, 551087, 680434, 322703, 766146, 320499, 139130, 511279, 507731, 3438, 588057, 519424, 697508, 758734, 760232, 942668, 791321, 403295, 49210, 292726, 15014, 292165, 203983, 138182, 850350, 802224, 527172, 600515, 786495, 262685, 302248, 783324, 867478, 695063, 103877, 400487, 437330, 261681, 684780, 318935, 413315, 719452, 45871, 667440, 588394, 855517, 510794, 393633, 962042, 943794, 15112, 365945, 883072, 948433, 948377, 366463, 375016, 56781, 486890, 744789, 109942, 895745, 703818, 780371, 943105, 860498, 97766, 602956, 915019, 795212, 992380, 704095, 161723, 200569, 872347, 95989, 104672, 443036, 462398, 66071, 14245, 439494, 364821, 373458, 160168, 386299, 591762, 802163, 655418, 732497, 805651, 887635, 399263, 739731, 435587, 384252, 372137, 31701, 809956, 846125, 917542, 307693, 568620, 853755, 601558, 866144, 779277, 169187, 817319, 84001, 123411, 900983, 602454, 565540, 771584, 287089, 937254, 749964, 773174, 325302, 640368, 996772, 18551, 910191, 375890, 216651, 861178, 587582, 932574, 743424, 100502, 174735, 544536, 191723, 867254, 674525, 198185, 11438, 143207, 417967, 937184, 263655, 175930, 805966, 987843, 117037, 158737, 844610, 345692, 443814, 949872, 27875, 340585, 631440, 383534, 930321, 523002, 641581, 779045, 266714, 171555, 608044, 210718, 924519, 660560, 985668, 597983, 96494, 372346, 139174, 134873, 511005, 518333, 755581, 892345, 961869, 117406, 276431, 817397, 577953, 697655, 83505, 583912, 622859, 684843, 546292, 319075, 195807, 539998, 238936, 936384, 205524, 373064, 594769, 393233, 230356, 121566, 586571, 658816, 867176, 245691, 714701, 648979, 161393, 502738, 44913, 409072, 590362, 449948, 366937, 129252, 354136, 14944, 900239, 296826, 697398, 185338, 445377, 342250, 899022, 927878, 839354, 462000, 213107, 186501, 956419, 631509, 306339, 654167, 848638, 808126, 826281, 555504, 535662, 277885, 319213, 299698, 268812, 514854, 638643, 353137, 796391, 594206, 502271, 779992, 885061, 660097, 800173, 767583, 292209, 966943, 187104, 378799, 399077, 311819, 535633, 304010, 154825, 155712, 152749, 244723, 597345, 886187, 634749, 238697, 598555, 297998, 289464, 227835, 341371, 786135, 66642, 333990, 545919, 757861, 565925, 631793, 577615, 902934, 517314, 264338, 877105, 833248, 657327, 256166, 621217, 281185, 232653, 171058, 360419, 747791, 906793, 16939, 257422, 241922, 893275, 599091, 749963, 484648, 492342, 99989, 187312, 505737, 431689, 10747, 189130, 325549, 241474, 414016, 244295, 400037, 738917, 759348, 692644, 852787, 629792, 22331, 17159, 377713, 622400, 570689, 750593, 738990, 757907, 360124, 31549, 710451, 761565, 245619, 187695, 782912, 931723, 945518, 37879, 745534, 9606, 116067, 480028, 701824, 964994, 69938, 546152, 707298, 708995, 196234, 642058, 296262, 102091, 92492, 125721, 572371, 811292, 226211, 767750, 216936, 142218, 761399, 858482, 219428, 985467, 859736, 612477, 662718, 599660, 2099, 316544, 541760, 445818, 21376, 686135, 372321, 799831, 429625, 109660, 648309, 54685, 899615, 394476, 411834, 84734, 297050, 747001, 124369, 164279, 135359, 753547, 592268, 937867, 689045, 383033, 532349, 787050, 204485, 552329, 936903, 195101, 955425, 487123, 874297, 61837, 455889, 608517, 114757, 162754, 901962, 577107, 910350, 498028, 590132, 485371, 977362, 139799, 191981, 388405, 2882, 587508, 347761, 102259, 622006, 975447, 46979]
[877, 916, 1531, 2099, 2882, 3438, 3966, 5149, 9606, 10747, 10988, 11438, 13030, 13617, 14245, 14425, 14944, 15014, 15112, 15334, 16939, 17159, 18279, 18504, 18551, 19319, 19542, 21376, 22331, 22966, 25210, 26827, 27875, 28594, 31549, 31701, 32607, 36182, 36890, 37879, 44913, 45871, 45884, 46979, 49210, 49656, 51328, 54685, 56781, 58235, 61837, 64516, 64776, 64928, 66071, 66642, 66876, 68285, 69225, 69938, 70434, 72177, 72605, 72970, 73278, 74096, 74186, 76061, 81929, 83505, 83824, 84001, 84734, 85095, 87724, 89395, 89885, 92492, 92596, 93408, 95989, 96494, 97766, 97928, 98072, 98247, 98464, 99989, 100502, 102091, 102145, 102259, 102313, 103877, 104672, 105927, 106280, 107677, 108618, 109660, 109942, 110176, 114757, 116067, 117037, 117406, 119194, 119999, 120711, 121315, 121566, 121803, 121971, 122531, 123411, 123835, 124369, 125721, 125816, 126525, 129252, 131216, 131391, 134873, 135359, 135656, 136997, 138182, 139130, 139174, 139799, 141687, 142218, 143207, 143440, 144696, 145238, 146415, 146657, 151668, 152749, 153212, 154520, 154825, 154925, 155511, 155712, 156962, 158737, 159154, 160168, 160562, 161393, 161500, 161723, 162553, 162754, 163300, 164279, 164621, 164976, 165732, 167752, 168010, 169187, 171058, 171555, 171783, 174735, 175346, 175930, 176209, 176512, 177893, 178866, 185338, 185770, 186402, 186501, 186667, 187104, 187312, 187695, 189130, 189251, 189290, 190341, 191314, 191723, 191981, 192137, 192899, 193203, 195101, 195807, 196234, 197107, 198185, 199196, 200569, 201915, 203309, 203983, 204485, 205524, 207015, 208240, 209703, 210718, 213107, 215032, 216003, 216436, 216651, 216936, 219428, 222193, 223645, 224270, 225442, 226211, 227835, 230334, 230343, 230356, 231594, 232653, 234979, 236676, 237061, 238697, 238936, 241474, 241922, 242978, 244295, 244519, 244723, 244874, 245619, 245691, 245923, 247809, 250117, 251993, 252691, 253830, 254321, 256166, 257015, 257422, 257989, 259374, 261546, 261681, 262685, 262912, 263465, 263655, 264338, 265165, 266714, 267541, 267597, 268124, 268628, 268812, 276431, 277885, 279553, 281185, 284361, 284877, 287089, 288072, 288494, 288770, 289464, 289661, 289943, 290791, 292086, 292165, 292209, 292401, 292726, 296262, 296357, 296826, 297050, 297998, 298407, 299210, 299426, 299698, 300393, 300704, 301906, 302248, 303880, 304010, 306339, 307693, 308993, 310086, 311819, 312630, 313057, 316544, 317843, 318466, 318696, 318935, 319075, 319213, 319853, 320499, 321014, 321118, 321267, 321999, 322703, 322987, 323050, 323742, 324388, 325302, 325549, 326507, 327022, 327974, 328501, 329129, 332629, 333625, 333990, 336507, 339593, 340093, 340161, 340223, 340473, 340585, 340982, 341371, 341556, 341909, 342250, 343057, 344203, 344428, 344743, 345692, 347761, 348763, 349147, 351191, 353137, 354136, 355424, 357396, 357899, 358382, 359975, 360124, 360419, 360427, 360793, 362671, 364821, 365684, 365945, 366463, 366937, 368740, 372137, 372321, 372346, 373064, 373458, 374095, 375016, 375890, 377713, 378799, 383033, 383496, 383534, 384252, 386299, 388405, 390622, 393233, 393633, 394476, 397033, 397246, 399077, 399263, 399766, 400037, 400487, 401447, 403101, 403295, 403524, 404627, 405632, 406667, 406881, 409072, 409760, 411834, 413315, 414016, 417486, 417967, 418463, 418488, 419421, 424466, 427474, 429625, 431689, 432835, 435587, 435680, 436575, 437330, 437681, 439494, 439785, 439959, 440427, 440860, 443036, 443814, 445377, 445818, 449320, 449948, 452625, 454239, 455889, 458177, 460146, 462000, 462398, 463151, 463656, 466129, 471146, 472912, 472933, 473766, 474571, 475267, 478139, 480028, 480781, 481305, 483059, 484648, 484976, 485371, 486192, 486890, 487123, 487381, 488141, 488318, 489403, 489710, 490391, 492146, 492171, 492342, 495491, 497244, 497496, 498028, 500501, 502229, 502271, 502738, 502869, 503061, 504202, 504647, 505737, 507731, 507889, 508356, 508539, 508736, 510794, 511005, 511279, 514854, 516979, 517314, 518158, 518333, 519424, 523002, 524482, 524720, 525508, 525725, 525785, 525849, 525980, 526902, 527147, 527172, 527530, 532349, 532419, 532671, 535633, 535662, 536467, 538883, 539421, 539998, 540167, 540433, 541760, 543429, 544536, 545919, 546152, 546292, 550075, 551087, 551576, 552329, 555504, 558069, 562635, 563213, 564283, 565540, 565925, 567343, 567660, 568620, 570689, 572371, 572422, 574920, 576703, 577107, 577615, 577953, 581048, 582731, 583912, 585312, 586571, 587508, 587582, 588057, 588394, 588624, 589884, 590132, 590270, 590362, 591170, 591259, 591683, 591762, 592268, 594206, 594733, 594769, 594970, 597345, 597983, 598371, 598406, 598555, 598565, 599091, 599471, 599660, 600515, 601065, 601558, 602454, 602956, 603276, 603458, 605800, 607051, 608044, 608517, 610741, 611683, 612477, 613247, 615530, 615894, 617956, 619810, 621217, 622006, 622400, 622859, 624987, 625714, 629201, 629792, 630030, 630910, 631440, 631509, 631793, 631931, 634693, 634749, 634966, 637920, 638216, 638643, 639696, 640368, 641581, 641767, 642058, 642193, 642367, 644292, 644586, 645085, 646605, 648309, 648856, 648979, 649055, 649684, 654167, 655418, 656250, 657327, 658392, 658816, 659804, 660097, 660383, 660560, 662141, 662567, 662718, 665560, 665947, 667440, 668141, 668726, 669885, 672980, 674525, 674925, 675396, 680434, 681310, 684780, 684843, 686135, 686717, 687130, 689045, 689194, 689228, 689746, 689812, 690354, 692644, 695063, 695963, 697398, 697508, 697655, 697722, 698527, 699697, 701480, 701824, 703120, 703818, 704095, 705380, 705388, 707276, 707298, 708647, 708995, 710451, 710711, 710752, 710777, 714204, 714701, 715924, 716512, 717725, 717824, 719452, 719553, 722137, 723240, 724396, 726021, 726711, 728763, 728901, 731138, 731439, 731608, 731856, 732497, 733563, 734320, 735529, 736863, 737761, 738859, 738917, 738937, 738986, 738990, 739028, 739731, 741687, 742408, 743185, 743424, 744789, 745024, 745534, 747001, 747791, 749963, 749964, 750278, 750593, 753027, 753547, 754361, 755581, 755958, 757861, 757907, 758734, 759277, 759348, 759448, 760232, 761399, 761565, 764538, 765199, 766146, 767222, 767583, 767750, 769000, 770579, 770655, 771584, 771693, 772160, 773174, 773540, 774101, 774954, 775091, 775650, 778476, 779022, 779045, 779064, 779277, 779992, 780371, 780736, 782912, 782935, 783324, 784601, 786135, 786386, 786495, 786811, 787050, 787118, 787965, 791321, 794807, 795212, 796152, 796391, 796489, 797937, 798243, 799638, 799831, 800173, 802163, 802224, 805651, 805966, 806558, 808126, 809875, 809956, 810697, 811292, 811820, 815066, 817319, 817397, 820350, 821560, 823724, 824663, 826281, 827564, 828405, 828536, 829844, 831104, 831684, 833247, 833248, 837635, 838838, 839354, 842035, 842151, 842896, 844610, 846125, 848638, 850350, 850526, 851762, 852787, 852849, 853253, 853755, 853789, 853917, 854116, 855517, 856415, 857067, 858482, 859736, 860498, 861178, 862535, 865205, 865406, 866144, 867176, 867254, 867478, 867651, 868853, 870148, 871233, 872347, 873207, 874297, 875267, 877105, 879921, 883072, 885061, 885614, 886187, 887459, 887635, 888020, 891392, 892345, 892396, 892620, 893275, 895745, 895911, 899022, 899615, 900239, 900721, 900983, 901962, 902934, 903831, 904247, 904940, 905008, 905451, 906465, 906793, 909046, 910191, 910350, 912224, 912525, 913782, 915019, 915266, 916325, 916343, 917542, 919284, 920140, 921077, 921575, 922837, 924519, 926700, 927878, 929059, 930321, 930859, 931723, 932574, 936260, 936384, 936903, 937184, 937254, 937406, 937867, 938792, 939332, 941909, 942527, 942668, 943105, 943794, 944380, 945518, 945566, 946661, 947287, 948377, 948433, 948590, 949872, 950428, 951605, 952346, 954060, 955379, 955425, 956419, 956685, 960217, 960361, 960488, 960581, 961860, 961869, 962042, 964994, 966943, 970563, 970643, 971412, 972527, 972537, 973816, 974880, 975447, 977362, 978457, 980154, 981598, 983211, 983969, 984532, 985467, 985668, 986850, 987026, 987218, 987843, 992380, 993628, 994247, 995775, 995809, 996772, 997601, 998023, 998077]
517314
517314
Обычный:  3.34402400298859
Оптимиз:  2.316900566002005

#ВЫВОД: минимальная оптимизация (Замена list на set) дало прирост в 30%
"""